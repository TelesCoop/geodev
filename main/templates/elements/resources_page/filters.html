{% load static %}

<div class="section has-background-secondary-light">
  <div class="container">
    <h2 class="title is-3">Ma recherche</h2>
    <div class="columns">
      <div class="column is-4 i-am-profiles">
        <h3 class="title is-4">Je suis</h3>
        <template v-if="selectedProfile || isProfileLocked">
          <button class="button is-rounded is-secondary">[[ profiles[selectedProfile].name ]]</button>
        </template>
        <template v-else>
          <button v-for="profile in profiles" class="button is-rounded is-secondary is-outlined"
                  @click="selectProfile(profile.slug)">
            [[ profile.name ]]
          </button>
        </template>
        <div v-if="!isProfileLocked" class="mt-2">
          <button class="button is-primary" @click="selectProfile('')">
            <span class="icon">
              {% include "components/icon.html" with size="16" name="settings-2" %}
            </span>
            <span>Changer de profil</span>
          </button>
        </div>
        <h3 class="title is-4 mt-4">Les ressources qui m'intéressent</h3>
        Par défaut, nous vous proposerons des <span>produits, documents et projets</span>.
        <div class="mt-2">
          <button class="button is-primary">
            <span class="icon">
              {% include "components/icon.html" with size="16" name="settings-2" %}
            </span>
            <span>Personnaliser</span>
          </button>
        </div>
      </div>
      <div class="column is-4">
        <h3 class="title is-4">Les thématiques qui m'intéressent</h3>
        <div class="elements-holder">
          <button v-for="thematic in thematics" class="button is-rounded"
                  :class="'is-' + thematic.slug + ' ' + (selectedThematics[thematic.slug] ? '' : 'is-outlined')"
                  @click="toggleThematic(thematic.slug)">
          <span class="icon">
              <img :src="'{% static 'img/thematics' %}' + '/' + thematic.slug + '.svg'">
            </span>
            <span>[[ thematic.name ]]</span>
          </button>
          <button @click="resetThematics" class="button is-text is-rounded">Toutes</button>
        </div>
        <h3 class="title is-4 mt-5 mb-2">Je cherche un mot clé précis</h3>
        <input @input="updateFilters" v-model="searchInput" type="text" class="input"
               placeholder="Exemple : parcelles agricoles">
      </div>
      <div class="column is-4">
        <h3 class="title is-4">Les zones qui m'intéressent</h3>
        <div class="elements-holder">
          <button v-for="zone in zones" class="button is-rounded is-secondary"
                  :class="selectedZones[zone.code] ? '' : 'is-outlined'"
                  @click="toggleZone(zone.code)">
          <span class="icon">
              <img :src="'{% static 'img/zones' %}' + '/' + zone.code + '.svg'">
          </span>
            <span>[[ zone.name ]]</span>
          </button>
          <button @click="resetZones" class="button is-text is-rounded">Toutes</button>
        </div>
        <h3 class="title is-4 mt-5 mb-2">Ressources GeoDEV</h3>
        <label class="checkbox">
          <input @change="updateFilters" v-model="isOnlyGeoDev" type="checkbox">
          Afficher <span class="has-text-weight-bold">uniquement</span> les ressources crées par <span
                class="has-text-weight-bold">GeoDEV</span>
        </label>
      </div>
    </div>
  </div>
</div>
